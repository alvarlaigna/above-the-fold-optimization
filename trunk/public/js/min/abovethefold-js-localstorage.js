!function(e,t){try{if(!("localStorage"in e&&null!==e.localStorage))return}catch(e){return}if(void 0!==e.Worker&&e.Worker){var r=[],n="requestIdleCallback"in e&&null!==e.requestIdleCallback&&e.requestIdleCallback,o=function(t){"Promise"in e?new Promise(function(e,r){e(t())}):"undefined"!==e.setImmediate?e.setImmediate(t):setTimeout(t,0)},i={prefix:"abtf-",default_expire:86400,preloaded:{},now:function(){return+new Date/1e3},execWhenIdle:function(e,t){n?n(e,{timeout:t}):e()},saveScript:function(e,t,r){i.execWhenIdle(function(){var n={},o=i.now();if(n.date=o,n.expire=o+(r||i.default_expire),t instanceof Array){n.chunked=!0,n.chunks=t.length;for(var a=[],s=t.length,c=0;c<s;c++)a.push(t[c])}else{a=!1;n.data=t}if(i.add(e,n),a)for(var s=a.length,c=0;c<s;c++)i.add("chunk:"+c+":"+e,a[c])},3e3)},getScript:function(e){if(void 0!==i.preloaded[e]&&!1!==i.preloaded[e])return i.preloaded[e];i.preloaded[e]=!1;var o=i.get(e);if(!o)return!1;if(void 0!==o.expire&&o.expire-i.now()<0)return!1;if(void 0!==o.chunked&&!0===o.chunked){for(var s,c=[],u=0;u<o.chunks;u++){if(!1===(s=i.get("chunk:"+u+":"+e)))return!1;c.push(s)}o.data=c.join("")}var f,l="/* Above The Fold Optimization HTML5 Script Loader\n * @url "+e+" */\n",d=!1;if(n&&void 0!==t.js[2]&&t.js[2])for(var p=t.js[2].length,u=0;u<p;u++)if("object"==typeof t.js[2][u]&&-1!==e.indexOf(t.js[2][u][0])){d=!0,t.js[2][u][1]&&(f=t.js[2][u][1]);break}return d?(l+="window.requestIdleCallback(function(){",l+=o.data,l+=f?"},{timeout:"+f+"});":"});"):l+=o.data,i.preloaded[e]=a(l,"application/javascript"),r.push(i.preloaded[e]),i.preloaded[e]},preloadScript:function(e){void 0===i.preloaded[e]&&i.execWhenIdle(function(){void 0===i.preloaded[e]&&(i.preloaded[e]=i.getScript(e))},100)},add:function(e,t,r){if(!(void 0!==r&&parseInt(r)>10)){"object"==typeof t&&(t=JSON.stringify(t));try{return localStorage.setItem(i.prefix+e,t),!0}catch(c){if(c.name.toUpperCase().indexOf("QUOTA")>=0){var n,o,a,s=[];for(n in localStorage)0===n.indexOf(i.prefix)&&-1===n.indexOf("chunk:")&&(a=n.split(i.prefix)[1],(o=i.get(a))&&s.push([a,o]));return s.length?(s.sort(function(e,t){return e[1].date-t[1].date}),i.remove(s[0][0]),void i.execWhenIdle(function(){void 0===r&&(r=0),i.add(e,t,++r)},1e3)):void 0}return}}},remove:function(e){var t=i.get(e);if(t){if(t.chunked)for(var r=parseInt(t.chunks),n=0;n<r;n++)localStorage.removeItem(i.prefix+"chunk:"+n+":"+e);localStorage.removeItem(i.prefix+e)}},get:function(e){var t=localStorage.getItem(i.prefix+e);try{return-1!==e.indexOf("chunk:")?t||!1:JSON.parse(t||"false")}catch(e){return!1}},clear:function(e){var t,r,n,o=this.now();for(t in localStorage)if(r=t.split(i.prefix)[1]){if(-1!==r.indexOf("chunk:"))continue;if(!(n=i.get(r)))continue;(!e||n.expire<=o)&&i.remove(r)}}},a=function(t,r){var n;try{n=new Blob([t],{type:r})}catch(o){e.BlobBuilder=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder,(n=new BlobBuilder).append(t),n=n.getBlob(r)}return URL.createObjectURL(n)},s=function(){self.FETCH=self.fetch||!1,self.DEFAULT_TIMEOUT=5e3,self.MAX_CHUNK_SIZE=1e5,self.CHUNK_DATA=function(e,t){for(var r,n=Math.ceil(e.length/t),o=new Array(n),i=0;i<n;i++)r=i*t,o[i]=e.substring(r,r+t);return o},self.LOAD_RESOURCE=function(e){var t=!1,r=!1,n=function(n,o){t||(t=!0,r&&(clearTimeout(r),r=!1),!n&&o&&o.length>self.MAX_CHUNK_SIZE&&(o=self.CHUNK_DATA(o,self.MAX_CHUNK_SIZE)),self.RESOURCE_LOAD_COMPLETED(e,n,o))};if(self.FETCH){var o={method:"GET",mode:"cors",cache:"default"},i=function(e){t||("object"==typeof e&&e.status&&(e=[e.status,e.statusText]),n(e))};self.FETCH(e.url,o).then(function(e){t||(e.ok?e.text().then(function(e){n(!1,e)}):n([e.status,e.statusText]))},i).catch(i);s=e.timeout||self.DEFAULT_TIMEOUT;isNaN(s)&&(s=self.DEFAULT_TIMEOUT),r=setTimeout(function(){t||n("timeout")},s)}else{var a=new XMLHttpRequest;a.open("GET",e.url,!0),a.responseType="text",a.onreadystatechange=function(){t||4===a.readyState&&(200!==a.status?n(a.statusText):n(!1,a.responseText))},a.onerror=function(){t||n(a.statusText)};var s=e.timeout||self.DEFAULT_TIMEOUT;isNaN(s)&&(s=self.DEFAULT_TIMEOUT),r=setTimeout(function(){if(!t){try{a.abort()}catch(e){}n("timeout")}},s),a.send(null)}},self.RESOURCE_LOAD_COMPLETED=function(e,t,r){t?(t instanceof Array||"object"!=typeof t||(t=t.toString()),self.postMessage([2,e.i,t])):self.postMessage([1,e.i,r])},self.onmessage=function(e){var t=e.data;if(t instanceof Array)for(var r=t.length,n=0;n<r;n++)"object"==typeof t[n]&&void 0!==t[n].url&&void 0!==t[n].i&&self.LOAD_RESOURCE(t[n]);else{if("object"!=typeof t||void 0===t.url||void 0===t.i)throw new Error("Web Worker Script Loader: Invalid resource object");self.LOAD_RESOURCE(t)}}}.toString().replace(/^function\s*\(\s*\)\s*\{/,"").replace(/\}$/,""),c={workerUri:a(s,"application/javascript"),worker:!1,scriptIndex:0,scriptQueue:[],start:function(){this.worker=new Worker(this.workerUri),this.worker.addEventListener("message",this.handleMessage),this.worker.addEventListener("error",this.handleError)},stop:function(){this.worker&&(this.worker.removeEventListener("message",this.handleMessage),this.worker.removeEventListener("error",this.handleError),this.worker.terminate(),this.worker=!1)},handleMessage:function(e){var t=e.data,r=t[1];void 0!==c.scriptQueue[r]&&(1!==parseInt(t[0])?parseInt(t[0]):c.scriptQueue[r].onData(t[2]))},handleError:function(e){},loadScript:function(e,r){this.worker||this.start(),e=t.pxs(e);var n=parseInt(this.scriptIndex);this.scriptIndex++,this.scriptQueue[n]={url:e,onData:r},this.worker.postMessage({url:e,i:n})}};if(c.start(),e.addEventListener("beforeunload",function(e){if(c.stop(),r.length>0)for(var t=r.length,n=0;n<t;n++)try{URL.revokeObjectURL(r[n])}catch(e){}}),n)n(function(){i.clear(!0)},{timeout:3e3});else{var u,f=function(){u&&clearTimeout(u),u=setTimeout(function(){i.clear(!0)},2e3)};f(),t.osl(f)}t.lcs=function(e,r,n){o(function(){var n=i.getScript(e);n?t.ls(n,r):t.ls(e,function(){r(),c.loadScript(e,function(t){t&&i.saveScript(e,t)})})})},t.pcs=function(e){o(function(){i.preloadScript(e)})},t.csu=function(e){var t=i.getScript(e);return t||(c.loadScript(e,function(t){t&&i.saveScript(e,t)}),e)}}}(window,window.Abtf);